(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{105:function(e,t,a){e.exports=a(134)},134:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),c=a.n(o),i=a(182),l=a(183),s=a(184),u=a(91),d=a(11),m=a(164),f=Object(m.a)((function(e){return{container:{paddingTop:e.spacing(5),paddingBottom:e.spacing(10),backgroundColor:"#E4F0FE",minHeight:"100vh",position:"relative"}}})),p=a(92),h=a(18),b=a.n(h),g=function(e){return{root:{letterSpacing:"2px",fontWeight:"bold",border:"1px solid #000","&:hover":{borderColor:e.color.primary,"@media (hover: none)":{backgroundColor:"#f4f4f4"}}},containedPrimary:{background:e.color.primary,"&:hover":{backgroundColor:"#f4f4f4",color:e.color.primary,"@media (hover: none)":{backgroundColor:"#f4f4f4"}}}}},E=function(e){return{root:{input:{"&:active":{borderWidth:"1px"}}}}},k=function(e){return{paper:{boxShadow:"0px 3px 11px 0px #E8EAFC, 0 3px 3px -2px #B2B2B21A, 0 1px 8px 0 #9A9A9A1A"}}},v=function(e){return{root:{backgroundColor:"#4A4A4A1A"}}},x=function(e){return{icon:{color:"#B9B9B9"}}},y=function(e){return{root:{"&$selected":{backgroundColor:b()(e.color.primary).darken(8).toHexString(),color:"#fff","&:focus":{backgroundColor:b()(e.color.primary).lighten(e.lightenRate).toHexString(),color:"#fff"}}},button:{"&:hover, &:focus":{backgroundColor:"#F3F5FF"}}}},j=function(e){return{child:{backgroundColor:"white"}}},C=function(e){return{root:{height:56}}},O=function(e){return{root:{borderBottom:"1px solid rgba(224, 224, 224, .5)"},head:{fontSize:"0.95rem"},body:{fontSize:"0.95rem"}}},w=function(e){return{fontFamily:"Arsenal, Roboto, Helvetica, Arial, sans-serif",h5:{fontFamily:"Arsenal, Arial, sans-serif",fontWeight:"bold"},tab:{fontFamily:"Arsenal",textTransform:"none",fontSize:"1.3rem",color:"#000"}}},S=function(e){return{root:{width:"80%"}}},N={palette:{background:{default:"#fff"},primary:{main:"#000",light:b()("#000").lighten(7.5).toHexString(),dark:b()("#000").darken(8).toHexString()},secondary:{main:"#677294",light:b()("#677294").lighten(7.5).toHexString(),dark:b()("#677294").darken(15).toHexString(),contrastText:"#ffffff"},warning:{main:"#ffc107",light:b()("#ffc107").lighten(7.5).toHexString(),dark:b()("#ffc107").darken(15).toHexString()},success:{main:"#28a745",light:b()("#28a745").lighten(7.5).toHexString(),dark:b()("#28a745").darken(15).toHexString()},info:{main:"#9013FE",light:b()("#9013FE").lighten(7.5).toHexString(),dark:b()("#9013FE").darken(15).toHexString()},text:{primary:"#000",secondary:"#677294",hint:"#677294"},common:{primary:"#000",secondary:"#677294",white:"#ffffff",cardinal:"#DC004E",danger:"#dc3545"}},typography:w({color:{success:"#28a745"},darkenRate:15}),overrides:{MuiButton:g({color:{primary:"#000"}}),MuiOutlinedInput:E(),MuiBackdrop:v(),MuiMenu:k(),MuiSelect:x(),MuiListItem:y({color:{primary:"#000"},lightenRate:7.5}),MuiTouchRipple:j(),MuiTableRow:C(),MuiTableCell:O(),MuiContainer:S()}},I=Object(p.a)(N),M=a(16),A=a.n(M),T=a(27),B=a(14),F=a(20),D=a.n(F),H=a(137),R=a(186),z=a(180),_=a(63),U=a.n(_),W=Object(m.a)((function(e){return{media:{height:140},pageTitle:{textAlign:"center",marginBottom:e.spacing(5)},fab:{position:"fixed",bottom:e.spacing(8),right:e.spacing(55),zIndex:"3000"},noUser:{padding:"250px 0"}}})),q="http://localhost:3002/api/v1",G="http://localhost:3001/api/v1",J=a(166),L=a(168),P=a(169),V=a(170),Y=a(171),$=a(172),K=a(173),Q=a(174),X=Object(m.a)((function(e){return{root:{flexGrow:1},cardRoot:{boxShadow:"none"},name:{textAlign:"center"},actions:{display:"flex",justifyContent:"space-between"},deleteIcon:{color:"#dc3545"},editIcon:{color:"#17a2b8"}}})),Z=function(e){var t=e.users,a=e.handleShowDeleteDialog,n=e.handleEdit,o=X();return r.a.createElement("div",{className:o.root},r.a.createElement(J.a,{container:!0,spacing:6},t.map((function(e){var t=e.name,c=e._id;return r.a.createElement(J.a,{item:!0,xs:12,sm:12,md:4,key:c},r.a.createElement(L.a,{className:o.cardRoot},r.a.createElement(P.a,{component:"a",href:"/tasks/user/".concat(c)},r.a.createElement(V.a,null,r.a.createElement(H.a,{gutterBottom:!0,variant:"overline",display:"block",className:o.name},t))),r.a.createElement(Y.a,{className:o.actions},r.a.createElement($.a,{"aria-label":"edit-icon",className:o.editIcon,onClick:function(){return n(c)}},r.a.createElement(K.a,null)),r.a.createElement($.a,{"aria-label":"delete-icon",className:o.deleteIcon,onClick:function(){return a(c)}},r.a.createElement(Q.a,null)))))}))))},ee=a(175),te=function(e){var t=e.count,a=X();return r.a.createElement("div",{className:a.root},r.a.createElement(J.a,{container:!0,spacing:6},Array.apply(null,{length:t}).map((function(e,t){return r.a.createElement(J.a,{item:!0,xs:12,sm:12,md:4,key:t},r.a.createElement(ee.a,{variant:"rect",width:152,height:67}))}))))},ae=a(64),ne=a(185),re=a(178),oe=a(4),ce=a(190),ie=a(176),le=a(177),se=a(89),ue=a.n(se),de=Object(oe.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.handleCloseModal,n=e.classes;return r.a.createElement(ie.a,{disableTypography:!0,className:n.root},r.a.createElement(H.a,{variant:"h6"},t),r.a.createElement($.a,{"aria-label":"close",className:n.closeButton,onClick:a},r.a.createElement(ue.a,null)))})),me=Object(oe.a)((function(e){return{root:{padding:e.spacing(2)}}}))(le.a);function fe(e){var t=e.showModal,a=e.children,n=e.handleCloseModal,o=e.title;return r.a.createElement(ce.a,{onClose:n,"aria-labelledby":"customized-dialog-title",open:t},r.a.createElement(de,{id:"customized-dialog-title",handleCloseModal:n},o),r.a.createElement(me,{dividers:!0},a))}var pe=a(188),he=Object(m.a)((function(e){return{root:{position:"absolute",top:"0",left:"-1px",zIndex:"2000",width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function be(e){var t=e.severity,a=e.message,n=he();return r.a.createElement("div",{className:n.root},r.a.createElement(pe.a,{severity:t},a))}var ge=Object(m.a)((function(e){return{button:{width:"100%"},closeIconContainer:{display:"flex",justifyContent:"space-between"},closeButton:{padding:"0 5px"}}}));function Ee(e){var t=e.showModal,a=e.handleCloseModal,o=e.setUsers,c=e.formType,i=e.currentUserId,l=e.users,s=e.title,u=ge(),d=Object(n.useState)(""),m=Object(B.a)(d,2),f=m[0],p=m[1],h=Object(n.useState)(""),b=Object(B.a)(h,2),g=b[0],E=b[1];Object(n.useEffect)((function(){if("edit-user"===c){var e=l.find((function(e){return"".concat(e._id)==="".concat(i)}));p(e.name)}return function(){}}),[i,c,l]);var k=function(){var e=Object(T.a)(A.a.mark((function e(t){var n,r,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==f.trim()){e.next=4;break}return E("Name is required"),e.abrupt("return");case 4:if("add-user"!==c){e.next=18;break}return e.prev=5,e.next=8,D.a.post("".concat(q,"/users"),{name:f});case 8:n=e.sent,o((function(e){return[].concat(Object(ae.a)(e),[n.data.user])})),p(""),a(),E(""),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),E(e.t0.response.data.errors.message||e.t0.response.data.errors[0].message);case 18:if("edit-user"!==c){e.next=33;break}return e.prev=19,e.next=22,D.a.patch("".concat(q,"/users/").concat(i),{name:f});case 22:r=e.sent,s=l.map((function(e){return e._id===i?r.data.user:e})),o(s),p(""),a(),E(""),e.next=33;break;case 30:e.prev=30,e.t1=e.catch(19),E(e.t1.response.data.errors.message||e.t1.response.data.errors[0].message);case 33:case"end":return e.stop()}}),e,null,[[5,15],[19,30]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(fe,{showModal:t,handleCloseModal:a,title:s},r.a.createElement("form",{className:u.root,noValidate:!0,autoComplete:"off",onSubmit:k},r.a.createElement("div",null,r.a.createElement(ne.a,{label:"Enter name",id:"outlined-size-small",variant:"outlined",size:"small",margin:"normal",value:f,name:"name",onChange:function(e){p(e.target.value)},autoFocus:!0})),r.a.createElement("div",null,r.a.createElement(re.a,{variant:"contained",color:"primary",className:u.button,onClick:k},"Submit")))),g&&r.a.createElement(be,{message:g,severity:"error"}))}var ke=a(179);function ve(e){var t=e.showDialog,a=e.handleClose,n=e.title;return r.a.createElement(ce.a,{open:t,onClose:a,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(ie.a,{id:"alert-dialog-title"},n),r.a.createElement(ke.a,null,r.a.createElement(re.a,{onClick:a,color:"primary"},"No"),r.a.createElement(re.a,{onClick:function(){return a({answer:"yes"})},color:"primary",autoFocus:!0},"Yes")))}var xe=function(){var e=W(),t=Object(n.useState)([]),a=Object(B.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(!1),l=Object(B.a)(i,2),s=l[0],u=l[1],d=Object(n.useState)(!1),m=Object(B.a)(d,2),f=m[0],p=m[1],h=Object(n.useState)(!1),b=Object(B.a)(h,2),g=b[0],E=b[1],k=Object(n.useState)(""),v=Object(B.a)(k,2),x=v[0],y=v[1],j=function(){var e=Object(T.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("".concat(q,"/users")).then((function(e){c((function(){return e.data.users}))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(T.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.delete("".concat(q,"/users/").concat(t)).then((function(e){c((function(e){return e.filter((function(e){return e._id!==t}))}))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){j()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:e.pageTitle},r.a.createElement(H.a,{gutterBottom:!0,variant:"h5",display:"block"},"All users")),r.a.createElement("main",null,void 0!==o?r.a.createElement(Z,{users:o,handleShowDeleteDialog:function(e){E(!0),y(e)},handleEdit:function(e){y(e),p((function(e){return!e}))}}):r.a.createElement(te,{count:6}),!o.length&&r.a.createElement(R.a,{className:e.noUser},r.a.createElement(H.a,{variant:"h5",align:"center"},"No users")),r.a.createElement(z.a,{"aria-label":"Add",className:e.fab,color:"primary",onClick:function(){u((function(e){return!e}))}},r.a.createElement(U.a,null)),s&&r.a.createElement(Ee,{showModal:s,handleCloseModal:function(){u(!1)},setUsers:c,formType:"add-user",title:"Add user"}),f&&r.a.createElement(Ee,{showModal:f,handleCloseModal:function(){p(!1)},setUsers:c,formType:"edit-user",title:"Edit user",currentUserId:x,users:o}),g&&r.a.createElement(ve,{showDialog:g,handleClose:function(e){"yes"===e.answer&&C(x),E(!1)},title:"Are you sure ?"})))},ye=a(72),je=a(90),Ce=a.n(je),Oe=Object(m.a)((function(e){return{media:{height:140},headerContent:{display:"flex",alignItems:"center",marginBottom:"30px"},titleText:{marginLeft:"150px"},backHomeIcon:{},fab:{position:"fixed",bottom:e.spacing(8),right:e.spacing(55),zIndex:"3000"},noTask:{padding:"250px 0"}}})),we=a(189),Se=a(181),Ne=Object(m.a)((function(e){return{root:{flexGrow:1},cardContentRoot:{padding:"10px 20px"},cardRoot:{boxShadow:"none"},description:{textAlign:"justify",lineHeight:"1.8"},actions:{display:"flex",justifyContent:"space-between"},deleteIcon:{color:"#dc3545"},editIcon:{color:"#17a2b8"},todoStateContainer:{paddingRight:"30px"},date:{textAlign:"right"}}})),Ie=function(e){var t=e.tasks,a=e.handleShowDeleteDialog,n=e.handleEdit,o=e.handleTaskStateChange,c=Ne();return r.a.createElement("div",{className:c.root},r.a.createElement(J.a,{container:!0,spacing:6},t.map((function(e){var t=e.description,i=e._id,l=e.state,s=e.createdAt;return r.a.createElement(J.a,{item:!0,xs:12,key:i},r.a.createElement(L.a,{className:c.cardRoot},r.a.createElement(V.a,null,r.a.createElement(H.a,{variant:"caption",display:"block",className:c.date},function(e){var t=new Date(e).toDateString().split(" ");return"".concat(t[1]," ").concat(t[2],", ").concat(t[3])}(s))),r.a.createElement(V.a,{className:c.cardContentRoot},r.a.createElement(H.a,{gutterBottom:!0,variant:"body2",className:c.description},t)),r.a.createElement(Y.a,{className:c.actions},r.a.createElement("div",null,r.a.createElement($.a,{"aria-label":"edit",className:c.editIcon,onClick:function(){return n(i)}},r.a.createElement(K.a,null)),r.a.createElement($.a,{"aria-label":"delete",className:c.deleteIcon,onClick:function(){return a(i)}},r.a.createElement(Q.a,null)),r.a.createElement(we.a,{checked:"done"===l,onChange:function(){o({taskId:i,state:"todo"===l?"done":"todo"})},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("div",{className:c.todoStateContainer},r.a.createElement(Se.a,{color:"todo"===l?"error":"primary",badgeContent:l.toUpperCase()})))))}))))},Me=function(e){var t=e.count,a=Ne();return r.a.createElement("div",{className:a.root},r.a.createElement(J.a,{container:!0,spacing:6},Array.apply(null,{length:t}).map((function(e,t){return r.a.createElement(J.a,{item:!0,xs:12,key:t},r.a.createElement(ee.a,{variant:"rect",width:152,height:67}))}))))},Ae=Object(m.a)((function(e){return{button:{width:"100%"},closeIconContainer:{display:"flex",justifyContent:"space-between"},closeButton:{padding:"0 5px"}}}));function Te(e){var t=e.showModal,a=e.handleCloseModal,o=e.setTasks,c=e.formType,i=e.currentTaskId,l=e.tasks,s=e.title,u=e.userId,d=Ae(),m=Object(n.useState)(""),f=Object(B.a)(m,2),p=f[0],h=f[1],b=Object(n.useState)(""),g=Object(B.a)(b,2),E=g[0],k=g[1],v=Object(n.useState)("todo"),x=Object(B.a)(v,2),y=x[0],j=x[1];Object(n.useEffect)((function(){if("edit-task"===c){var e=l.find((function(e){return"".concat(e._id)==="".concat(i)}));h(e.description),j(e.state)}return function(){}}),[i,c,l]);var C=function(){var e=Object(T.a)(A.a.mark((function e(t){var n,r,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==p.trim()){e.next=4;break}return k("Description is required"),e.abrupt("return");case 4:if("add-task"!==c){e.next=18;break}return e.prev=5,e.next=8,D.a.post("".concat(G,"/tasks/user/").concat(u),{description:p,state:y});case 8:n=e.sent,o((function(e){return[].concat(Object(ae.a)(e),[n.data.task])})),h(""),a(),k(""),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),k(e.t0.response.data.errors.message||e.t0.response.data.errors[0].message);case 18:if("edit-task"!==c){e.next=33;break}return e.prev=19,e.next=22,D.a.patch("".concat(G,"/tasks/").concat(i,"/user/").concat(u),{description:p,state:y});case 22:r=e.sent,s=l.map((function(e){return e._id===i?r.data.user:e})),o(s),h(""),a(),k(""),e.next=33;break;case 30:e.prev=30,e.t1=e.catch(19),k(e.t1.response.data.errors.message||e.t1.response.data.errors[0].message);case 33:case"end":return e.stop()}}),e,null,[[5,15],[19,30]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(fe,{showModal:t,handleCloseModal:a,title:s},r.a.createElement("form",{className:d.root,noValidate:!0,autoComplete:"off",onSubmit:C},r.a.createElement("div",null,r.a.createElement(ne.a,{label:"Enter task description",id:"outlined-size-small",variant:"outlined",size:"small",margin:"normal",value:p,name:"description",onChange:function(e){h(e.target.value)},autoFocus:!0})),r.a.createElement("div",null,r.a.createElement(re.a,{variant:"contained",color:"primary",className:d.button,onClick:C},"Submit")))),E&&r.a.createElement(be,{message:E,severity:"error"}))}var Be=function(e){var t=Oe(),a=Object(n.useState)([]),o=Object(B.a)(a,2),c=o[0],i=o[1],l=Object(n.useState)(!1),s=Object(B.a)(l,2),u=s[0],d=s[1],m=Object(n.useState)(!1),f=Object(B.a)(m,2),p=f[0],h=f[1],b=Object(n.useState)(!1),g=Object(B.a)(b,2),E=g[0],k=g[1],v=Object(n.useState)(""),x=Object(B.a)(v,2),y=x[0],j=x[1],C=Object(n.useState)(""),O=Object(B.a)(C,2),w=O[0],S=O[1],N=function(){var e=Object(T.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("".concat(G,"/tasks/user/").concat(t)).then((function(e){i((function(){return e.data.tasks}))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(T.a)(A.a.mark((function e(t){var a,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.userId,n=t.taskId,e.next=3,D.a.delete("".concat(G,"/tasks/").concat(n,"/user/").concat(a)).then((function(){i((function(e){return e.filter((function(e){return"".concat(e._id)!=="".concat(n)}))}))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var t=e.history.location.pathname.split("/")[3];j(t),N(t)}),[e.history.location.pathname]),r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:t.headerContent},r.a.createElement($.a,{"aria-label":"back-home",className:t.backHomeIcon,component:"a",href:"/"},r.a.createElement(Ce.a,null)),r.a.createElement(H.a,{gutterBottom:!0,variant:"h5",display:"block",className:t.titleText},"All tasks")),r.a.createElement("main",null,void 0!==c?r.a.createElement(Ie,{tasks:c,handleShowDeleteDialog:function(e){k(!0),S(e)},handleTaskStateChange:function(e){var t=e.taskId,a=e.state,n=c.find((function(e){return"".concat(e._id)==="".concat(t)})).description;D.a.patch("".concat(G,"/tasks/").concat(t,"/user/").concat(y),{description:n,state:a}).then((function(){i((function(e){return e.map((function(e){return e._id===t?Object(ye.a)(Object(ye.a)({},e),{},{state:a}):e}))}))}))},handleEdit:function(e){S(e),h((function(e){return!e}))}}):r.a.createElement(Me,{count:6}),!c.length&&r.a.createElement(R.a,{className:t.noTask},r.a.createElement(H.a,{variant:"h5",align:"center"},"No task"," ",r.a.createElement("span",{role:"img","aria-labelledby":"strong"}," ","\ud83d\udcaa"," "))),r.a.createElement(z.a,{"aria-label":"Add",className:t.fab,color:"primary",onClick:function(){d((function(e){return!e}))}},r.a.createElement(U.a,null)),u&&r.a.createElement(Te,{showModal:u,handleCloseModal:function(){d(!1)},setTasks:i,userId:y,currentTaskId:w,formType:"add-task",title:"Add task"}),p&&r.a.createElement(Te,{showModal:p,handleCloseModal:function(){h(!1)},setTasks:i,formType:"edit-task",title:"Edit task",userId:y,currentTaskId:w,tasks:c}),E&&r.a.createElement(ve,{showDialog:E,handleClose:function(e){"yes"===e.answer&&I({userId:y,taskId:w}),k(!1)},title:"Are you sure ?"})))},Fe=function(){var e=f();return r.a.createElement(u.a,null,r.a.createElement(i.a,{theme:I},r.a.createElement(l.a,null),r.a.createElement(s.a,{maxWidth:"sm",className:e.container},r.a.createElement(d.a,{exact:!0,path:"/",component:xe}),r.a.createElement(d.a,{exact:!0,path:"/tasks/user/:id",component:Be}))))};c.a.render(r.a.createElement(Fe,null),document.getElementById("root"))}},[[105,1,2]]]);
//# sourceMappingURL=main.6fb4a0e2.chunk.js.map